### 物联网解决方案 讲解提纲

#### 目标
本次讲解只能做到概述的作用，重点讲一下我们物联方案的整体结构，并介绍结构单元之间的关系，重点讲一下我们在与客户对接的过程中做对接的几个基本问题。

最后，回答一下大家的问题，尤其是杨路在与客户交互的过程中，一些最常见的问题，以及最关心的问题。

#### 基本构成

- 设备
- wifi模块
- 云平台
- App
- 管理后台


#### 通信框架

- 设备与Wifi
    - D协议
    - 串口通信：Wifi负责协议解析 
- Wifi与Server
    - T协议     
    - TCP长连接 
- Server与App
    - S协议
    - 发送命令：Http协议
    - 接收推送：Mqtt协议 + 百度云推送 
- Wifi与App
    - L协议 
    - 发送命令：局域网内的TCP长连接
    - 接收推送：局域网内的TCP长连接

#### 在对接过程中遇到的一些基本问题

- 协议对接：一般来说设备有自身的协议，但是为了实现物联通信，需要Mcu工程师了解我方D口协议，实现串口与Wifi模块的消息收发。
- wifi模块如何接入：
    - 供电：3.5V, 5V 均可
    - 天线：发射功率选择，板载和外接的选择，位置的选择。
    - 外接按键，显示灯：涉及smartlink键，smartlink指示灯引脚，串口通信引脚，Ap模式引脚，根据具体的情况进行设计，具体的需要对方参考说明书来进行。
    - 画板：汉枫提供了基础的PCB设计图，可以发给厂家作为参考。
    - 波特率：目前wifi模块推荐的工作波特率为115200，但是不少设备稳定的工作波特率可能不是这个，需要wifi模块厂家进行校准保证，之前的wifi模块存在这方面的问题，新的模块尚没有测试过。

- 管理层面需要做的工作
    - pid,vid
    - pkey
    - 二维码
    - 设备SN号码

- App制作方面的问题
    - 界面设计
    - 功能设计
    - 交互设计
    - 协议设计
    - 设备指令对接
    - 联合调试

#### 目前尚存在的问题
- 配网问题
- 推送问题