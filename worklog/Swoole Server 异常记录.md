### Swoole Server 异常记录

####2015-4-15 
昨天晚上客户测试过程中，主动断电，后面在开启后无法控制设备，原因不明。

[2015-04-15 0:17:58 771]Worker#19830 Client[1@1]: received: {"sn":1874,"cmd":"heartbeat","mac":"ACCF232C6CF8"}  
[2015-04-15 0:18:51 32]Worker#19824 Client[42@1]: received: {"sn":10,"cmd":"login","mac":"ACCF232C6CF8","pv":"1.0.5","hfver":"1.3","data":["vid::3","pid::40A3E","pkey::12345","dsn::12345678901234","usrver::V5.02"]}

从日志分析来看，在断电的最后一刻，设备是正常的，保持着心跳，fd为1，设备断电再上电后，设备进行了登录操作，在后续的日志中，并没有看到fd 1 close，这里存在问题。

此外，Redis数据库中，无 fd_42 的记录，而对应的mac地址记录 也被清空了

    127.0.0.1:6379> get yun_m_ACCF232C6CF8
    (nil)
    
这一点非常奇怪，在所有的操作中并无清楚mac地址这样的操作。

查看进程，发现另外一个swoole进程还存在，应该是过去测试忘记了关，是否会对这个进程有影响呢？关掉再观察一下。

